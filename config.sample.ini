; FlashPaper Configuration
;
; This is a sample configuration file compatible with PrivateBin format.
; Copy this file to config.ini and modify as needed.
;
; All settings can also be overridden via environment variables using
; the format: FLASHPAPER_SECTION_KEY (e.g., FLASHPAPER_MAIN_NAME)

[main]
; Name of the application displayed in the title
name = "FlashPaper"

; Base path for URL generation (include trailing slash for subpaths)
; Example: "/" for root, "/paste/" for subpath
basepath = "/"

; Enable discussion/comments on pastes
; When enabled, users can add comments to pastes that have discussion enabled
discussion = true

; Default to "burn after reading" option checked
; When true, the burn-after-reading checkbox is checked by default
burnafterreadingselected = false

; Maximum size of paste in bytes (default: 10MB)
; Set to 0 for unlimited (not recommended)
sizelimit = 10485760

; Format to use for syntax highlighting (plaintext, syntaxhighlighting, markdown)
; This sets the default format; users can change it per paste
formatter = "plaintext"

; HTTP listen address
; Use 0.0.0.0:8080 to listen on all interfaces
; Use 127.0.0.1:8080 to listen only on localhost
listen = "0.0.0.0:8080"

[expire]
; Default expiration option (must match one of the options below)
default = "1week"

; Available expiration options with their durations in seconds
; Format: name = seconds
; Set to 0 for "never expire"
5min = 300
10min = 600
1hour = 3600
1day = 86400
1week = 604800
1month = 2592000
1year = 31536000
never = 0

[traffic]
; Rate limiting: minimum seconds between paste creations from same IP
; Set to 0 to disable rate limiting
limit = 10

; HTTP header to use for client IP (for reverse proxy setups)
; Common values: X-Forwarded-For, X-Real-IP, CF-Connecting-IP
; Leave empty to use direct connection IP
header = ""

; List of IPs exempted from rate limiting (comma-separated)
; Example: 127.0.0.1, 10.0.0.1
exempted = ""

; List of IPs allowed to create pastes (comma-separated)
; Leave empty to allow all IPs
creators = ""

[purge]
; Rate limit for expired paste cleanup in seconds
; Cleanup runs at most once per this interval
limit = 300

; Number of expired pastes to delete per cleanup run
; Lower values reduce database load but cleanup takes longer
batchsize = 10

[model]
; Storage backend class: Database or Filesystem
; Database supports SQLite, PostgreSQL, and MySQL
; Filesystem stores pastes as files on disk
class = "Database"

; Database connection string (DSN) or filesystem path
;
; SQLite: path to database file
;   Example: /data/flashpaper.db
;
; PostgreSQL: postgres://user:password@host:port/database?sslmode=disable
;   Example: postgres://flashpaper:password@localhost:5432/flashpaper?sslmode=disable
;
; MySQL: user:password@tcp(host:port)/database?charset=utf8mb4
;   Example: flashpaper:password@tcp(localhost:3306)/flashpaper?charset=utf8mb4
;
; Filesystem: path to data directory
;   Example: /data/pastes
;
dsn = "/data/flashpaper.db"

; Optional: Additional database options (not commonly needed)
; options =
