# FlashPaper Development Dockerfile
#
# This Dockerfile is used for local development with hot reload.
# It includes Go tooling and Air for automatic rebuilds on file changes.
#
# Usage:
#   docker-compose -f docker-compose.dev.yml up

FROM golang:1.21-alpine

# Install development dependencies
RUN apk add --no-cache \
    gcc \
    musl-dev \
    git \
    ca-certificates

# Install Air for hot reload
RUN go install github.com/air-verse/air@latest

# Set working directory
WORKDIR /app

# Create data directory
RUN mkdir -p /data

# Expose application and debugger ports
EXPOSE 8080 2345

# Default command - will be overridden by docker-compose
CMD ["air", "-c", ".air.toml"]
